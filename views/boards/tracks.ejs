<%- include('../partials/header') %>
<%- include('../partials/navbar') %>

<div class="container-fluid">
    <div class="row">
        <div class="col-6">
            <table class="table table-light tracks text-center">
                <thead>
                    <th><h4 class="title">Songs by <%= artist[0] %></h4></th>
                </thead>
                <tbody>
                    <% tracks.forEach( t => { 
                        
                    %>
                        <tr>
                            
                            <td <% if(t.album.images[0] !== undefined){ %>style="background-image: url('<%= t.album.images[0].url %>'); background-size: 20%; background-repeat: no-repeat;"<% }else{%>style="background-image: url('https://cdn1.iconfinder.com/data/icons/modifiers-add-on-1-1/48/Sed-24-512.png'); background-size: 20%; background-repeat: no-repeat;"<% } %>>
                                <button class="btn btn-success songName"><%= t.name %></button>
                                <button class="btn btn-primary"><%= t.popularity %></button>
                                <a href="<%= t.preview_url %>" class="btn btn-secondary">Preview</a>
                                <a href="<%= t.external_urls.spotify %>" target="_blank" class="btn btn-dark"><i class="material-icons">play_arrow</i></a>
                                <a href="/boards/<%= t.id %>/analyze" rel="noopener noreferrer" class="btn btn-dark">Analyze</a>
                                
                            </td>
                        </tr>
                    <% })%>
                </tbody>
            </table>
        </div>
        <div class="col-6">
            <div class="my-container">
                <% board.forEach( b => { %>
                    <div class="columns">
                        <a href="/boards/<%= b._id %>/board">
                        <h6 class="title"><%= b.title %></h6>
                        <div class="card">
                            <div class="card-img-overlay image">
                                <p class="card-text"><img width="100%" height="200%" src="<%= b.image %>" alt="" class="card-image"><%- b.content.substr(0,100) + '</p>' %>... click here for more</p>
                                <p class="card-text" style="vertical-align: middle;">
                                    <% b.tags.forEach( t => { %>
                                    <small class="text-muted"><i class="material-icons" style="margin-right:5px;">bookmark</i><%= t.tags %></small>
                                <% }) %>
                                </p>
                            </div>
                        </div>
                        </a>
                    </div>
                <% }) %>
            </div>
        </div>
    </div>
</div>

<%- include('../partials/footer') %>
